<Card>:
    orientation: 'vertical'
    size_hint_y: None
    height: self.minimum_height
    padding: [dp(24), dp(20), dp(24), dp(20)]
    spacing: dp(16)
    
    canvas.before:
        Color:
            rgba: card_color
        SmoothRoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [border_radius_lg]

        # Subtle shadow effect
        Color:
            rgba: (0, 0, 0, 0.02)
        SmoothRoundedRectangle:
            pos: [self.x, self.y - dp(2)]
            size: self.size
            radius: [border_radius_lg]

        # Subtle shadow effect
        Color:
            rgba: (0, 0, 0, 0.08)
        SmoothLine:
            rounded_rectangle: [self.x, self.y - dp(2), self.width, self.height, border_radius_lg]
    
    # Header section
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(4)
        opacity: 0 if not root.title else 1
        
        Label:
            text: root.title
            font_size: font_size_xl
            markup: True
            bold: True
            color: card_foreground_color
            halign: 'left'
            valign: 'top'
            text_size: self.width, None
            size_hint_y: None
            height: self.texture_size[1]
        
        Label:
            text: root.description
            font_size: font_size_sm
            color: muted_foreground_color
            halign: 'left'
            valign: 'top'
            text_size: self.width, None
            size_hint_y: None
            height: self.texture_size[1] if root.description else 0
            opacity: 1 if root.description else 0
    
    # Content area (for child widgets)
    BoxLayout:
        id: content_area
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height
        spacing: dp(16)
